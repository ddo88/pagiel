function getSync(e){var t;return $.ajax({dataType:"json",contentType:"application/json; charset=utf-8",url:e,async:!1,success:function(e){t=e},error:function(){console.log(arguments)}}),t}function get(e){return $.getJSON(e)}function postItem(e,t){return $.ajax({url:e,type:"POST",contentType:"application/json;odata=verbose",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json;odata=verbose"}})}function updateItem(e,t){return $.ajax({url:e,type:"PUT",contentType:"application/json;odata=verbose",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json;odata=verbose"}})}function For(e,t,n){for(var o=void 0,r=n||0,i=e.length;r<i;r++)o=t(e[r],r);return o}function AsyncFor(e,t,n){var o=jQuery.Deferred();return setTimeout(function(){for(var r=void 0,i=n||0,s=e.length;i<s;i++)r=t(e[i],i);o.resolve(r)},0),o.promise()}function getImageRamdon(e){var t=[];_(31).times(function(e){t.push(e)});var n=[],o=_.sample(t,e);return _(e).times(function(e){n.push(pad("000",o[e],!0)+".jpg")}),n}function sortableList(e,t){return e.orderAsc=ko.observable(!0),e.property=ko.observable("name"),e.setOrderBy=function(t){e.property()!==t?(e.property(t),e.orderAsc(!0)):e.orderAsc(!e.orderAsc())},e.listOrdered=ko.computed(function(){var n=_.sortBy(e[t](),function(t){return t[e.property()]()});return e.orderAsc()?n:n.reverse()}),e}function paginator(e,t,n){n=void 0===n||null==n?6:parseInt(n);var o=e;return o.pageSize=ko.observable(n),o.pageIndex=ko.observable(0),o.pagedView=ko.computed(function(){var e=o.pageSize(),n=o.pageIndex()*e;return o[t]().slice(n,n+e)}),o.maxPageIndex=ko.computed(function(){return Math.ceil(o[t]().length/o.pageSize())-1}),o.previousPage=function(){o.pageIndex()>0&&o.pageIndex(o.pageIndex()-1)},o.nextPage=function(){o.pageIndex()<o.maxPageIndex()&&o.pageIndex(o.pageIndex()+1)},o.moveToPage=function(e){o.pageIndex(e)},o.allPages=ko.computed(function(){var e=[];for(i=0;i<=o.maxPageIndex();i++)e.push({pageNumber:i+1});return e}),o}function Song(e,t){var n,o=this;return o.parent=t,o.id=ko.observable(),o.name=ko.observable(),o.lyrics=ko.observable(),o.chords=ko.observable(),o.tipo=ko.observable(),o.views=ko.observable(),o.tono=ko.observable(0),o.lyricsFormat=ko.computed(function(){o.lyrics();return""}),n=e,o.id(n._id),o.name(n.Name),o.lyrics(n.Lyrics),o.chords(n.Chords),o.tipo(n.Type),o.views(n.Views),o.tono(n.tono),o.toItem=function(){var e={lyrics:o.lyrics(),chords:o.chords(),name:o.name(),type:o.tipo()};return o.id()&&(e.id=o.id()),e},o}function pad(e,t,n){return void 0===t?e:n?(e+t).slice(-e.length):(t+e).substring(0,e.length)}function List(e){var t=this;return t.Date=ko.observable(e.Date),t.Songs=ko.observableArray([]),postItem("/api/songs/search",{ids:_.map(e.Songs,"id").join()}).done(function(e){For(e,function(e,n){t.Songs.push(new Song(e,t))})}),t}$(function(){$("#Carousel").carousel()}),function(){var e="ontouchstart"in window||"createTouch"in document;function t(t,n){this.element=t,this.interactions=n||{},t.addEventListener(e?"touchstart":"mousedown",this,!1)}function n(e,n){var o=ko.utils.domData.get(e,"interactions");return void 0==o&&(o=new t(e,n),ko.utils.domData.set(e,"interactions",o)),o}function o(e){ko.bindingHandlers[e]={init:function(t,o,r,i){n(t).interactions[e]=o()}}}t.prototype={start:function(t){e&&(t=t.touches[0]),this.interactions.press(t),this.interactions.move&&(e?this.element.addEventListener("touchmove",this,!1):document.addEventListener("mousemove",this,!1),this.interactions.move(t)),this.interactions.release&&(e?this.element.addEventListener("touchend",this,!1):document.addEventListener("mouseup",this,!1))},move:function(t){e&&(t=t.touches[0]),this.interactions.move(t)},end:function(t){var n=e?this.element:document,o=e?"touchend":"mouseup",r=e?"touchmove":"mousemove";e&&(t=t.touches[0]),this.interactions.release(t),n.removeEventListener(o,this,!1),n.removeEventListener(r,this,!1)},handleEvent:function(e){switch(e.preventDefault(),e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":this.end(e);break;case"mousedown":this.start(e);break;case"mousemove":this.move(e);break;case"mouseup":this.end(e)}}},ko.bindingHandlers.interaction={init:function(e,t,o,r){n(e,t())}},o("press"),o("release"),o("move")}();var Core=Core||{};Core.SocketsIO=Core.SocketsIO||{},function(e){var t;e.Subscribe=function(e,n){t||this.Init(),t.on(e,n)},e.Send=function(e,n){n?t.emit(e,n):t.emit(e)},e.Init=function(){t=io()}}(Core.SocketsIO),$(function(){Core.SocketsIO.Init()});