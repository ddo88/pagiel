function getSync(e){var t;return $.ajax({dataType:"json",contentType:"application/json; charset=utf-8",url:e,async:!1,success:function(e){t=e},error:function(){console.log(arguments)}}),t}function get(e){return $.getJSON(e)}function postItem(e,t){return $.ajax({url:e,type:"POST",contentType:"application/json;odata=verbose",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json;odata=verbose"}})}function updateItem(e,t){return $.ajax({url:e,type:"PUT",contentType:"application/json;odata=verbose",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json;odata=verbose"}})}function For(e,t,o){for(var n=void 0,r=o||0,s=e.length;r<s;r++)n=t(e[r],r);return n}function AsyncFor(n,r,s){var i=jQuery.Deferred();return setTimeout(function(){for(var e=void 0,t=s||0,o=n.length;t<o;t++)e=r(n[t],t);i.resolve(e)},0),i.promise()}function getImageRamdon(e){var t=[],o=(_(31).times(function(e){t.push(e)}),[]),n=_.sample(t,e);return _(e).times(function(e){o.push(pad("000",n[e],!0)+".jpg")}),o}function sortableList(t,o){return t.orderAsc=ko.observable(!0),t.property=ko.observable("name"),t.setOrderBy=function(e){t.property()!==e?(t.property(e),t.orderAsc(!0)):t.orderAsc(!t.orderAsc())},t.listOrdered=ko.computed(function(){var e=_.sortBy(t[o](),function(e){return e[t.property()]()});return t.orderAsc()?e:e.reverse()}),t}function paginator(e,o,t){t=void 0===t||null==t?6:parseInt(t);var n=e;return n.pageSize=ko.observable(t),n.pageIndex=ko.observable(0),n.pagedView=ko.computed(function(){var e=n.pageSize(),t=n.pageIndex()*e;return n[o]().slice(t,t+e)}),n.maxPageIndex=ko.computed(function(){return Math.ceil(n[o]().length/n.pageSize())-1}),n.previousPage=function(){0<n.pageIndex()&&n.pageIndex(n.pageIndex()-1)},n.nextPage=function(){n.pageIndex()<n.maxPageIndex()&&n.pageIndex(n.pageIndex()+1)},n.moveToPage=function(e){n.pageIndex(e)},n.allPages=ko.computed(function(){var e=[];for(i=0;i<=n.maxPageIndex();i++)e.push({pageNumber:i+1});return e}),n}function Song(e,t){var o=this;return o.parent=t,o.id=ko.observable(),o.name=ko.observable(),o.lyrics=ko.observable(),o.chords=ko.observable(),o.chordsGuitar=ko.observable(),o.chordsBass=ko.observable(),o.tipo=ko.observable(),o.views=ko.observable(),o.tono=ko.observable(0),o.lyricsFormat=ko.computed(function(){o.lyrics();return""}),t=e,o.id(t._id),o.name(t.Name),o.lyrics(t.Lyrics),o.chords(t.Chords),o.chordsGuitar(t.ChordsGuitar),o.chordsBass(t.ChordsBass),o.tipo(t.Type),o.views(t.Views),o.tono(t.tono),o.toItem=function(){var e={lyrics:o.lyrics(),chords:o.chords(),chordsGuitar:o.chordsGuitar(),chordsBass:o.chordsBass(),name:o.name(),type:o.tipo()};return o.id()&&(e.id=o.id()),e},o}function pad(e,t,o){return void 0===t?e:o?(e+t).slice(-e.length):(t+e).substring(0,e.length)}function List(e){var o=this;return o.Date=ko.observable(e.Date),o.Songs=ko.observableArray([]),postItem("/api/songs/search",{ids:_.map(e.Songs,"id").join()}).done(function(e){For(e,function(e,t){o.Songs.push(new Song(e,o))})}),o}$(function(){$("#Carousel").carousel()}),function(){var r="ontouchstart"in window||"createTouch"in document;function n(e,t){this.element=e,this.interactions=t||{},e.addEventListener(r?"touchstart":"mousedown",this,!1)}function s(e,t){var o=ko.utils.domData.get(e,"interactions");return null==o&&(o=new n(e,t),ko.utils.domData.set(e,"interactions",o)),o}function e(r){ko.bindingHandlers[r]={init:function(e,t,o,n){s(e).interactions[r]=t()}}}n.prototype={start:function(e){r&&(e=e.touches[0]),this.interactions.press(e),this.interactions.move&&(r?this.element.addEventListener("touchmove",this,!1):document.addEventListener("mousemove",this,!1),this.interactions.move(e)),this.interactions.release&&(r?this.element.addEventListener("touchend",this,!1):document.addEventListener("mouseup",this,!1))},move:function(e){r&&(e=e.touches[0]),this.interactions.move(e)},end:function(e){var t=r?this.element:document,o=r?"touchend":"mouseup",n=r?"touchmove":"mousemove";r&&(e=e.touches[0]),this.interactions.release(e),t.removeEventListener(o,this,!1),t.removeEventListener(n,this,!1)},handleEvent:function(e){switch(e.preventDefault(),e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":this.end(e);break;case"mousedown":this.start(e);break;case"mousemove":this.move(e);break;case"mouseup":this.end(e)}}},ko.bindingHandlers.interaction={init:function(e,t,o,n){s(e,t())}},e("press"),e("release"),e("move")}();var Core=Core||{};Core.SocketsIO=Core.SocketsIO||{},function(e){var o;e.Subscribe=function(e,t){o||this.Init(),o.on(e,t)},e.Send=function(e,t){t?o.emit(e,t):o.emit(e)},e.Init=function(){o=io()}}(Core.SocketsIO),$(function(){Core.SocketsIO.Init()});